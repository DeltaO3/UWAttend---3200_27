<!-- File: templates/updatesession.html -->
{% extends "base.html" %}

{% block content %}
<h2>Update the Session Configuration</h2>
<p>You are already in an active session. Update the session configuration below.</p>
<form method="POST" action="{{ url_for('updatesession', session_id=session_id) }}">
    {{ form.hidden_tag() }}

    <!-- Unit Code -->
    <div class="mb-3">
        {{ form.unit.label(class="form-label") }}
        {{ form.unit(class="form-select") }}
    </div>

    <!-- Session Name -->
    <div class="mb-3">
        {{ form.session_name.label(class="form-label") }}
        {{ form.session_name(class="form-select") }}
    </div>

    <!-- Session Time (e.g. "Morning") -->
    <div class="mb-3">
        {{ form.session_time.label(class="form-label") }}
        {{ form.session_time(class="form-select") }}
    </div>    

    <!-- Current Time -->
    <div>
        <label for="current_time_display" class="form-label">Current Time:</label>
        <div id="current_time_display" data-perth-time="{{ perth_time }}">Loading...</div>

        <!-- Hidden input to store current time for backend -->
        <input type="hidden" id="current_time" name="current_time">
    </div>

    <!-- Buttons -->
    <div class="mt-3">
        {{ form.submit(class="btn btn-primary") }}
        <button type="button" class="btn btn-secondary" onclick="window.history.back()">Back</button>
    </div>
</form>
{% endblock %}
